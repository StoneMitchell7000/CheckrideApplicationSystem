<div class="forms-grid">
    <div class="search-bar">
        <div class="forms-title">Checkride Forms</div>
        <form class="search-form" style="margin-right: 20px;">
            <mat-form-field class="search-field">
                <mat-label>Search By Name</mat-label>
                <input [formControl]="searchControl" matInput>
                <mat-icon matSuffix>search</mat-icon>
            </mat-form-field>
        </form>
        <form class="search-form">
            <mat-form-field class="search-field" style="width: 205px;">
                <mat-label>Filter By Status</mat-label>
                <mat-select [formControl]="statusSearchControl" multiple [ngModel]="statusSearch">
                    <mat-option value="new">New</mat-option>
                    <mat-option value="partially approved">Partially Approved</mat-option>
                    <mat-option value="fully approved">Fully Approved</mat-option>
                    <mat-option value="scheduled">Scheduled</mat-option>
                    <mat-option value="archived">Archived</mat-option>
                </mat-select>
            </mat-form-field>
        </form>
        <button mat-button class="text-button"
            *ngIf="(userService.currentUser === 'IP') || (userService.currentUser === 'ADMIN')">
            <i class="material-icons">add</i>
            Create New Form
        </button>
    </div>
    <div class="form-block">

        <div class="form-table animated fadeIn">
            <div class="form-relative-wrapper">
                <div class="form-header form-row">
                    <div style="border-top-left-radius: 4px;">Student</div>
                    <div>Form Status</div>
                    <div>Actions</div>
                    <div style="border-top-right-radius: 4px;"></div>
                </div>
                <div class="form-scroll-container">
                    <div *ngFor="let form of filteredForms">
                        <div class="form-row animated fadeInUp" [ngClass]="{'new-form' : form.status === 'new', 
                            'partial-form' : form.status === 'partially approved', 
                            'full-form' : form.status === 'fully approved',
                            'scheduled-form' : form.status === 'scheduled',
                            'archived-form' : form.status === 'archived'}">
                            <div class="row-spine">{{form.studentName}}</div>
                            <div class="bold-item">{{form.formatStatus}}</div>
                            <div class="button-box">
                                <button mat-icon-button class="action-button" matTooltip="Fill Out and Submit"
                                    matTooltipPosition="below" matTooltipShowDelay="0"
                                    *ngIf="(userService.currentUser === 'IP') || (userService.currentUser === 'ADMIN')">
                                    <i class="material-icons">edit_square</i>
                                </button>
                                <button mat-icon-button class="action-button" matTooltip="Approve"
                                    matTooltipPosition="below" matTooltipShowDelay="0" (click)="openApproval(form)"
                                    *ngIf="(userService.currentUser === 'TM') || (userService.currentUser === 'RO') || (userService.currentUser === 'ADMIN')">
                                    <i class="material-icons">done_all</i>
                                </button>
                                <button mat-icon-button class="action-button" matTooltip="Give Marks"
                                    matTooltipPosition="below" matTooltipShowDelay="0"
                                    *ngIf="(userService.currentUser === 'CI') || (userService.currentUser === 'ADMIN')">
                                    <i class="material-icons">rule</i>
                                </button>
                                <button mat-icon-button class="action-button" matTooltip="View Availability"
                                    matTooltipPosition="below" matTooltipShowDelay="0"
                                    *ngIf="userService.currentUser !== 'RO'">
                                    <i class="material-icons">calendar_month</i>
                                </button>
                                <button mat-icon-button class="action-button" matTooltip="Export to PDF"
                                    matTooltipPosition="below" matTooltipShowDelay="0">
                                    <i class="material-icons">picture_as_pdf</i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>